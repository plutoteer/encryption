{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'OnlineStatusPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selfStatus = ref('');\n    const onlineStatus = ref(null);\n    async function fetchSelfStatus() {\n      const res = await axios.get('/api/participant/status');\n      selfStatus.value = JSON.stringify(res.data, null, 2);\n    }\n    async function fetchOnlineStatus() {\n      const res = await axios.get('/api/participant/online-status');\n      onlineStatus.value = res.data;\n    }\n    const __returned__ = {\n      selfStatus,\n      onlineStatus,\n      fetchSelfStatus,\n      fetchOnlineStatus,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","selfStatus","onlineStatus","fetchSelfStatus","res","get","value","JSON","stringify","data","fetchOnlineStatus"],"sources":["D:/down/MPHEDEV/encryption_par/src/views/OnlineStatusPage.vue"],"sourcesContent":["<template>\r\n  <div style=\"padding: 24px; max-width: 800px; margin: auto;\">\r\n    <h2>在线状态</h2>\r\n    <button @click=\"fetchSelfStatus\">查看自身状态</button>\r\n    <div v-if=\"selfStatus\">\r\n      <pre>{{ selfStatus }}</pre>\r\n    </div>\r\n    <button @click=\"fetchOnlineStatus\" style=\"margin-top: 16px;\">查询所有在线参与方</button>\r\n    <div v-if=\"onlineStatus\">\r\n      <div>在线数: {{ onlineStatus.online_count }} / 总数: {{ onlineStatus.total_count }}</div>\r\n      <div>在线比例: {{ onlineStatus.online_percentage }}</div>\r\n      <div>最小参与方数: {{ onlineStatus.min_participants }}</div>\r\n      <div>可继续: {{ onlineStatus.can_proceed ? '是' : '否' }}</div>\r\n      <div>超时时间: {{ onlineStatus.online_timeout }}</div>\r\n      <div>心跳间隔: {{ onlineStatus.heartbeat_interval }}</div>\r\n      <h4>参与方列表:</h4>\r\n      <ul>\r\n        <li v-for=\"p in onlineStatus.participants\" :key=\"p.id\">\r\n          ID: {{ p.id }} | URL: {{ p.url }} | 状态: {{ p.status }} | 最后心跳: {{ p.last_heartbeat }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\n\r\nconst selfStatus = ref('')\r\nconst onlineStatus = ref(null)\r\n\r\nasync function fetchSelfStatus() {\r\n  const res = await axios.get('/api/participant/status')\r\n  selfStatus.value = JSON.stringify(res.data, null, 2)\r\n}\r\nasync function fetchOnlineStatus() {\r\n  const res = await axios.get('/api/participant/online-status')\r\n  onlineStatus.value = res.data\r\n}\r\n</script>\r\n"],"mappings":"AAyBA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,UAAU,GAAGF,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMG,YAAY,GAAGH,GAAG,CAAC,IAAI,CAAC;IAE9B,eAAeI,eAAeA,CAAA,EAAG;MAC/B,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,yBAAyB,CAAC;MACtDJ,UAAU,CAACK,KAAK,GAAGC,IAAI,CAACC,SAAS,CAACJ,GAAG,CAACK,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACtD;IACA,eAAeC,iBAAiBA,CAAA,EAAG;MACjC,MAAMN,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,gCAAgC,CAAC;MAC7DH,YAAY,CAACI,KAAK,GAAGF,GAAG,CAACK,IAAI;IAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}