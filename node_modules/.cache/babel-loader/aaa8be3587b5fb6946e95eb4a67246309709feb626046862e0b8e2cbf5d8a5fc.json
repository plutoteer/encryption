{"ast":null,"code":"import { ref } from 'vue';\nimport { getStepProgress } from '@/api/participant';\nexport default {\n  __name: 'KeyGenProgress',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const progress = ref(null);\n    const error = ref(null);\n    const isLoading = ref(false);\n    async function fetchProgress() {\n      try {\n        isLoading.value = true;\n        error.value = null;\n        const res = await getStepProgress();\n        progress.value = res.data;\n      } catch (err) {\n        error.value = err.message || '获取进度失败';\n        console.error('获取进度失败:', err);\n      } finally {\n        isLoading.value = false;\n      }\n    }\n    const getStatusClass = status => {\n      if (!status) return 'unknown';\n      const s = status.toLowerCase();\n      if (s.includes('完成') || s.includes('success')) return 'success';\n      if (s.includes('进行') || s.includes('running')) return 'running';\n      if (s.includes('失败') || s.includes('error')) return 'error';\n      if (s.includes('等待') || s.includes('waiting')) return 'waiting';\n      return 'unknown';\n    };\n    fetchProgress();\n    const __returned__ = {\n      progress,\n      error,\n      isLoading,\n      fetchProgress,\n      getStatusClass,\n      ref,\n      get getStepProgress() {\n        return getStepProgress;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","getStepProgress","progress","error","isLoading","fetchProgress","value","res","data","err","message","console","getStatusClass","status","s","toLowerCase","includes"],"sources":["E:/大三下学习资料/项目实训/MPHEDevCombine/MPHEDevFrontEnd/ParticipantFrontEnd/encryption/src/views/KeyGenProgress.vue"],"sourcesContent":["<template>\r\n  <div class=\"keygen-progress-page\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-content\">\r\n        <h1 class=\"page-title\">密钥生成进度</h1>\r\n        <button @click=\"fetchProgress\" :disabled=\"isLoading\" class=\"refresh-btn\">\r\n          <span class=\"btn-icon\">🔄</span>\r\n          <span class=\"btn-text\">{{ isLoading ? '刷新中...' : '刷新进度' }}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"content-area\">\r\n      <div v-if=\"progress\" class=\"progress-card\">\r\n        <div class=\"card-header\">\r\n          <div class=\"card-icon\">🔐</div>\r\n          <h3 class=\"card-title\">当前进度</h3>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"progress-grid\">\r\n            <div class=\"progress-item\">\r\n              <div class=\"item-label\">步骤</div>\r\n              <div class=\"item-value\">{{ progress.step }}</div>\r\n            </div>\r\n            <div class=\"progress-item\">\r\n              <div class=\"item-label\">状态</div>\r\n              <div class=\"item-value\">\r\n                <span :class=\"['status-badge', getStatusClass(progress.status)]\">{{ progress.status }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"progress-item\">\r\n              <div class=\"item-label\">说明</div>\r\n              <div class=\"item-value\">{{ progress.message || '暂无说明' }}</div>\r\n            </div>\r\n            <div class=\"progress-item\">\r\n              <div class=\"item-label\">时间</div>\r\n              <div class=\"item-value\">{{ progress.timestamp }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"error\" class=\"error-card\">\r\n        <div class=\"card-header\">\r\n          <div class=\"card-icon\">⚠️</div>\r\n          <h3 class=\"card-title\">错误信息</h3>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"error-message\">{{ error }}</div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!progress && !error && !isLoading\" class=\"no-data-card\">\r\n        <div class=\"card-header\">\r\n          <div class=\"card-icon\">📭</div>\r\n          <h3 class=\"card-title\">暂无数据</h3>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"no-data-message\">\r\n            暂无密钥生成进度信息，请点击\"刷新进度\"按钮获取最新状态\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { getStepProgress } from '@/api/participant'\r\n\r\nconst progress = ref(null)\r\nconst error = ref(null)\r\nconst isLoading = ref(false)\r\n\r\nasync function fetchProgress() {\r\n  try {\r\n    isLoading.value = true\r\n    error.value = null\r\n    const res = await getStepProgress()\r\n    progress.value = res.data\r\n  } catch (err) {\r\n    error.value = err.message || '获取进度失败'\r\n    console.error('获取进度失败:', err)\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nconst getStatusClass = (status) => {\r\n  if (!status) return 'unknown'\r\n  const s = status.toLowerCase()\r\n  if (s.includes('完成') || s.includes('success')) return 'success'\r\n  if (s.includes('进行') || s.includes('running')) return 'running'\r\n  if (s.includes('失败') || s.includes('error')) return 'error'\r\n  if (s.includes('等待') || s.includes('waiting')) return 'waiting'\r\n  return 'unknown'\r\n}\r\n\r\nfetchProgress()\r\n</script>\r\n\r\n<style scoped>\r\n.keygen-progress-page {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 24px;\r\n}\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: rgba(255,255,255,0.1);\r\n  border-radius: 20px;\r\n  padding: 24px 32px;\r\n  margin-bottom: 24px;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.08);\r\n}\r\n.header-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  gap: 20px;\r\n}\r\n.page-title {\r\n  font-size: 2.2rem;\r\n  font-weight: 900;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  margin: 0;\r\n}\r\n.refresh-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 12px 28px;\r\n  border: none;\r\n  border-radius: 18px;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: #fff;\r\n  box-shadow: 0 8px 25px rgba(102,126,234,0.08);\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);\r\n}\r\n.refresh-btn:disabled {\r\n  background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);\r\n  color: rgba(255,255,255,0.7);\r\n  cursor: not-allowed;\r\n}\r\n.btn-icon {\r\n  font-size: 1.3em;\r\n}\r\n.content-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n.progress-card, .error-card, .no-data-card {\r\n  background: rgba(255,255,255,0.95);\r\n  border-radius: 20px;\r\n  box-shadow: 0 8px 32px rgba(0,0,0,0.08);\r\n  border: 1px solid rgba(102,126,234,0.08);\r\n  overflow: hidden;\r\n  animation: fadeInUp 0.6s;\r\n}\r\n.card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 24px 24px 12px 24px;\r\n}\r\n.card-icon {\r\n  font-size: 2rem;\r\n  width: 48px;\r\n  height: 48px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 12px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: #fff;\r\n}\r\n.card-title {\r\n  font-size: 1.2rem;\r\n  font-weight: 800;\r\n  margin: 0;\r\n  color: #1e293b;\r\n}\r\n.card-content {\r\n  padding: 0 24px 24px 24px;\r\n}\r\n.progress-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n.progress-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 14px 0;\r\n  border-bottom: 1px solid #f1f5f9;\r\n}\r\n.progress-item:last-child {\r\n  border-bottom: none;\r\n}\r\n.item-label {\r\n  color: #64748b;\r\n  font-weight: 600;\r\n}\r\n.item-value {\r\n  color: #1e293b;\r\n  font-weight: 700;\r\n}\r\n.status-badge {\r\n  padding: 4px 16px;\r\n  border-radius: 16px;\r\n  font-size: 0.95em;\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.05em;\r\n}\r\n.status-badge.success {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  color: #fff;\r\n}\r\n.status-badge.running {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n  color: #fff;\r\n}\r\n.status-badge.error {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  color: #fff;\r\n}\r\n.status-badge.waiting {\r\n  background: linear-gradient(135deg, #f59e42 0%, #d97706 100%);\r\n  color: #fff;\r\n}\r\n.status-badge.unknown {\r\n  background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);\r\n  color: #fff;\r\n}\r\n.error-message {\r\n  color: #dc2626;\r\n  font-weight: 600;\r\n  background: rgba(239,68,68,0.08);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n.no-data-message {\r\n  color: #d97706;\r\n  font-weight: 600;\r\n  background: rgba(245,158,66,0.08);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n@keyframes fadeInUp {\r\n  from { opacity: 0; transform: translateY(30px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n@media (max-width: 600px) {\r\n  .keygen-progress-page {\r\n    padding: 8px;\r\n  }\r\n  .page-header {\r\n    flex-direction: column;\r\n    padding: 16px 8px;\r\n    gap: 10px;\r\n  }\r\n  .header-content {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n  .page-title {\r\n    font-size: 1.3rem;\r\n  }\r\n  .card-header, .card-content {\r\n    padding: 12px;\r\n  }\r\n}\r\n</style> "],"mappings":"AAiEA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,eAAe,QAAQ,mBAAmB;;;;;;;IAEnD,MAAMC,QAAQ,GAAGF,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMG,KAAK,GAAGH,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMI,SAAS,GAAGJ,GAAG,CAAC,KAAK,CAAC;IAE5B,eAAeK,aAAaA,CAAA,EAAG;MAC7B,IAAI;QACFD,SAAS,CAACE,KAAK,GAAG,IAAI;QACtBH,KAAK,CAACG,KAAK,GAAG,IAAI;QAClB,MAAMC,GAAG,GAAG,MAAMN,eAAe,CAAC,CAAC;QACnCC,QAAQ,CAACI,KAAK,GAAGC,GAAG,CAACC,IAAI;MAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZN,KAAK,CAACG,KAAK,GAAGG,GAAG,CAACC,OAAO,IAAI,QAAQ;QACrCC,OAAO,CAACR,KAAK,CAAC,SAAS,EAAEM,GAAG,CAAC;MAC/B,CAAC,SAAS;QACRL,SAAS,CAACE,KAAK,GAAG,KAAK;MACzB;IACF;IAEA,MAAMM,cAAc,GAAIC,MAAM,IAAK;MACjC,IAAI,CAACA,MAAM,EAAE,OAAO,SAAS;MAC7B,MAAMC,CAAC,GAAGD,MAAM,CAACE,WAAW,CAAC,CAAC;MAC9B,IAAID,CAAC,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAIF,CAAC,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,SAAS;MAC/D,IAAIF,CAAC,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAIF,CAAC,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,SAAS;MAC/D,IAAIF,CAAC,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAIF,CAAC,CAACE,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,OAAO;MAC3D,IAAIF,CAAC,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAIF,CAAC,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,SAAS;MAC/D,OAAO,SAAS;IAClB,CAAC;IAEDX,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}